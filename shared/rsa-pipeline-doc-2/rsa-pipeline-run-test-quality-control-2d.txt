******************************************************************
**
** Run Quality Control 2D Python script
**
** Fri June 6 2013 Vladimir Popov <vladimir.popov@duke.edu>
**
******************************************************************


Command:

all_qc_folder.py [Gia2dImages] [Scale] [OutputDir] [Option] [TemplateName]

Option possible values:

# 000000000
# 100000000 - make a cropped image composite
# 010000000 - make a gray image composite
# 001000000 - make a thresholded image composite
# 000100000 - make a skeleton image composite
# 000010000 - make a thresholded on cropped overlay image
# 000001000 - make a thresholded on gray overlay image
# 000000100 - make a skeleton on cropped overlay image
# 000000010 - make a skeleton on gray overlay image
# 000000001 - make a skeleton on thresholded overlay image
# 111111111 - do everything
# 001100000 - make a thresholded and a skeleton image composites 

*************************************************************************************
* Test Quality Control 2D script script
*************************************************************************************

The all_qc_folder.py executable locates at the /usr/local/bin/gia-programs/quality-control/qc folder

Unzip rsa-pipeline-quality-control-2d-test-data.tar.gz to some folder [my_folder] on your computer.

You will get the following:

[my_folder]/rsa-pipeline-quality-control-2d-test-data/ 
                                                  gia2d/
                                                       old_threshold_newGiA_103111-gia-config.xml 
                                                       [160=4x40 gia2d output images]
                                        

[Gia2dImages] = [my_folder]/rsa-pipeline-quality-control-2d-test-data/gia2d
[Scale] =  4
[OutputDir] = [my_folder]/rsa-pipeline-quality-control-2d-test-data
[Option] =  100000000
[TemplateName] = old_threshold_newGiA_103111

Note that old_threshold_newGiA_103111 comes from the name of file old_threshold_newGiA_103111-gia-config.xml. 
The data in this file is not used.
Only its name is used to indicate that the gia2d output images are generated using the old_threshold_newGiA_103111-gia-config.xml template file.
The file is presented in the test data set only for this purpose.

Type in the terminal window:

/usr/local/bin/gia-programs/quality-control/qc/all_qc_folder.py [my_folder]/rsa-pipeline-quality-control-2d-test-data/gia2d 4 [my_folder]/rsa-pipeline-quality-control-2d-test-data 100000000 old_threshold_newGiA_103111

On my computer, I chose for test:

[my_folder] = ~/tmp

So, 

/usr/local/bin/gia-programs/quality-control/qc/all_qc_folder.py  ~/tmp/rsa-pipeline-quality-control-2d-test-data/gia2d 4  ~/tmp/rsa-pipeline-quality-control-2d-test-data 100000000 old_threshold_newGiA_103111

You will see in the terminal window something like:

===== START OUTPUT =================================================================================================

[vp23@mk42ws2 gia]$ /usr/local/bin/gia-programs/quality-control/qc/all_qc_folder.py  ~/tmp/rsa-pipeline-quality-control-2d-test-data/gia2d 4  ~/tmp/rsa-pipeline-quality-control-2d-test-data 100000000 old_threshold_newGiA_103111
{0: '1', 1: '0', 2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0'}
Saving image: OsRILp00001d12_gia2d_template_old_threshold_newGiA_103111_scale_4_crop_composite.png

===== END OUTPUT =================================================================================================


The output mosaic file OsRILp00001d12_gia2d_template_old_threshold_newGiA_103111_scale_4_crop_composite.png will locate at ~/tmp/rsa-pipeline-quality-control-2d-test-data folder.
The mosaic consists of 40 scaled crop images.

You may try other options. 

NOTE: This component used in rsa pipeline to check the quality of the root reconsruction 2D.
      User review images sets and manually marks the quality level of the reconstruction 2D. 
      In the rsa pipeline, quality results are written to the file.


##### tar #####

cd ~/tmp
tar -pczf rsa-pipeline-quality-control-2d-test-data.tar.gz rsa-pipeline-quality-control-2d-test-data/gia2d/*

